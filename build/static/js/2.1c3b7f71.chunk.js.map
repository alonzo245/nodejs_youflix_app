{"version":3,"sources":["components/WritePost/WritePost.js","components/Post/Post.js","containers/Social/Social.js"],"names":["WritePost","state","postContent","handleChange","event","_this","setState","Object","objectSpread","target","value","handleSubmit","preventDefault","that","assertThisInitialized","token","localStorage","getItem","userId","baseUrl","window","location","hostname","protocol","authOptions","url","method","data","content","headers","Accept","Authorization","json","axios","then","response","props","updatePosts","catch","err","console","log","react_default","a","createElement","onSubmit","this","className","type","onChange","placeholder","Component","Post","src","Logo","alt","style","width","Date","createdAt","toISOString","creator","name","margin","Social","posts","totalPosts","handleUpdatePosts","_this2","Content-Type","get","res","totlaPosts","totlaItems","length","components_WritePost_WritePost","map","post","index","components_Post_Post","key","comments","Spinner"],"mappings":"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","file":"static/js/2.1c3b7f71.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from '../../axios';\r\n\r\nclass WritePost extends Component {\r\n  state = {\r\n    postContent: ''\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      ...this.state,\r\n      postContent: event.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    let that = this;\r\n    const token = localStorage.getItem('token');\r\n    const userId = localStorage.getItem('userId');\r\n    if (token && userId) {\r\n\r\n      let baseUrl = 'https://youflixapi.herokuapp.com';\r\n      if (window.location.hostname === \"localhost\") {\r\n        baseUrl = window.location.protocol + '//localhost:8000';\r\n      }\r\n\r\n      const authOptions = {\r\n        url: baseUrl + '/feed/post',\r\n        method: 'POST',\r\n        data:\r\n        {\r\n          content: this.state.postContent,\r\n          userId: userId\r\n        }\r\n        ,\r\n        headers: {\r\n          \"Accept\": \"application/json\",\r\n          \"Authorization\": \"Bearer \" + token\r\n        },\r\n        json: true\r\n      };\r\n\r\n      axios(authOptions)\r\n        .then(function (response) {\r\n          that.props.updatePosts();\r\n        })\r\n        .catch(err => {\r\n          console.log('err', err)\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <div className=\"w3-row-padding\">\r\n          <div className=\"w3-col m12\">\r\n            <div className=\"w3-card-2 w3-round w3-white\">\r\n              <div className=\"w3-container w3-padding\">\r\n                <h6 className=\"w3-opacity\">Social Media template by </h6>\r\n                <input className=\"w3-border w3-padding WritePostInput\"\r\n                  type=\"text\"\r\n                  value={this.state.postContent}\r\n                  onChange={this.handleChange}\r\n                  placeholder=\"What Your Feeling...?\"\r\n                />\r\n                <button type=\"submit\" className=\"w3-button w3-theme\"><i className=\"fa fa-pencil\"></i> &nbsp;Post</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WritePost;","import React, { Component } from 'react';\r\nimport Logo from '../../../src/assets/images/youflix.png';\r\nclass Post extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"w3-container w3-card-2 w3-white w3-round w3-margin\"><br />\r\n        <img src={Logo} alt=\"Avatar\" className=\"w3-left w3-circle w3-margin-right\" style={{ \"width\": \"60px\" }} />\r\n        <span className=\"w3-right w3-opacity\">\r\n          {new Date(this.props.createdAt).toISOString()}\r\n        </span>\r\n        <h4>\r\n          {this.props.creator.name}\r\n        </h4><br />\r\n        <hr className=\"w3-clear\" />\r\n        <p>\r\n          {this.props.content}\r\n        </p>\r\n        <div className=\"w3-row-padding\" style={{ \"margin\": \"0 -16px\" }}>\r\n          <div className=\"w3-half\">\r\n            {/* <img src={Logo} style={{ \"width\": \"100%\" }} alt=\"Northern Lights\" className=\"w3-margin-bottom\" /> */}\r\n          </div>\r\n          <div className=\"w3-half\">\r\n            {/* <img src={Logo} style={{ \"width\": \"100%\" }} alt=\"Nature\" className=\"w3-margin-bottom\" /> */}\r\n          </div>\r\n        </div>\r\n        <button type=\"button\" className=\"w3-button w3-theme-d1 w3-margin-bottom\"><i className=\"fa fa-thumbs-up\"></i> Like</button>\r\n        <button type=\"button\" className=\"w3-button w3-theme-d2 w3-margin-bottom\"><i className=\"fa fa-comment\"></i>Comment</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Post;","import React, { Component } from 'react';\r\nimport axios from '../../axios';\r\nimport './Social.scss';\r\nimport WritePost from '../../components/WritePost/WritePost';\r\nimport Post from '../../components/Post/Post';\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\n\r\nclass Social extends Component {\r\n  state = {\r\n    posts: [],\r\n    totalPosts: 0,\r\n    updatePosts: false\r\n  }\r\n\r\n\r\n  handleUpdatePosts = () => {\r\n    console.log('this.state.updatePosts', this.state.updatePosts)\r\n    this.updatePosts()\r\n  }\r\n\r\n  updatePosts() {\r\n    console.log('sss')\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      \r\n      let baseUrl = 'https://youflixapi.herokuapp.com';\r\n      if (window.location.hostname === \"localhost\") {\r\n        baseUrl = window.location.protocol + '//localhost:8000';\r\n      }\r\n      let url = baseUrl + '/feed/posts';\r\n      \r\n      const headers = {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': token\r\n      }\r\n      axios.get(url, null, headers)\r\n        .then(res => {\r\n\r\n          this.setState({\r\n            ...this.state,\r\n            posts: res.data.posts,\r\n            totlaPosts: res.data.totlaItems\r\n          })\r\n          console.log(res.data.posts[0])\r\n        })\r\n        .catch(err => {\r\n          console.log('err', err)\r\n        });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.updatePosts()\r\n  }\r\n\r\n  render() {\r\n    { const ddd = this.state.updatePosts ? null : null }\r\n    if (!this.state.posts.length) {\r\n      return (\r\n        <div className=\"Social\">\r\n          <WritePost />\r\n          <Spinner />\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        <div className=\"Social\">\r\n          <WritePost updatePosts={this.handleUpdatePosts} />\r\n          {this.state.posts.map((post, index) => {\r\n            return <Post\r\n              key={index}\r\n              createdAt={post.createdAt}\r\n              content={post.content}\r\n              comments={post.comments}\r\n              creator={post.creator}\r\n            />\r\n          })}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n};\r\n\r\nexport default Social;"],"sourceRoot":""}