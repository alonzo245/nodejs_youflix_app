(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{126:function(t,e,a){},131:function(t,e,a){"use strict";a.r(e);var n=a(16),o=a(4),s=a(5),c=a(7),l=a(6),r=a(8),i=a(1),m=a.n(i),u=a(21),p=(a(126),a(31)),d=function(t){function e(){var t,a;Object(o.a)(this,e);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={postContent:""},a.handleChange=function(t){a.setState(Object(n.a)({},a.state,{postContent:t.target.value}))},a.handleSubmit=function(t){t.preventDefault();var e=Object(p.a)(Object(p.a)(a)),n=localStorage.getItem("token"),o=localStorage.getItem("userId");if(n&&o){var s="https://youflixapi.herokuapp.com";"localhost"===window.location.hostname&&(s=window.location.protocol+"//localhost:8000");var c={url:s+"/feed/post",method:"POST",data:{content:a.state.postContent,userId:o},headers:{Accept:"application/json",Authorization:"Bearer "+n},json:!0};Object(u.a)(c).then(function(t){e.props.updatePosts()}).catch(function(t){console.log("err",t)})}},a}return Object(r.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"w3-row-padding"},m.a.createElement("div",{className:"w3-col m12"},m.a.createElement("div",{className:"w3-card-2 w3-round w3-white"},m.a.createElement("div",{className:"w3-container w3-padding"},m.a.createElement("h6",{className:"w3-opacity"},"Social Media template by "),m.a.createElement("input",{className:"w3-border w3-padding WritePostInput",type:"text",value:this.state.postContent,onChange:this.handleChange,placeholder:"What Your Feeling...?"}),m.a.createElement("button",{type:"submit",className:"w3-button w3-theme"},m.a.createElement("i",{className:"fa fa-pencil"})," \xa0Post"))))))}}]),e}(i.Component),h=a(38),w=a.n(h),b=function(t){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return m.a.createElement("div",{className:"w3-container w3-card-2 w3-white w3-round w3-margin"},m.a.createElement("br",null),m.a.createElement("img",{src:w.a,alt:"Avatar",className:"w3-left w3-circle w3-margin-right",style:{width:"60px"}}),m.a.createElement("span",{className:"w3-right w3-opacity"},new Date(this.props.createdAt).toISOString()),m.a.createElement("h4",null,this.props.creator.name),m.a.createElement("br",null),m.a.createElement("hr",{className:"w3-clear"}),m.a.createElement("p",null,this.props.content),m.a.createElement("div",{className:"w3-row-padding",style:{margin:"0 -16px"}},m.a.createElement("div",{className:"w3-half"}),m.a.createElement("div",{className:"w3-half"})),m.a.createElement("button",{type:"button",className:"w3-button w3-theme-d1 w3-margin-bottom"},m.a.createElement("i",{className:"fa fa-thumbs-up"})," Like"),m.a.createElement("button",{type:"button",className:"w3-button w3-theme-d2 w3-margin-bottom"},m.a.createElement("i",{className:"fa fa-comment"}),"Comment"))}}]),e}(i.Component),f=a(18),g=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(s)))).state={posts:[],totalPosts:0,updatePosts:!1},a.handleUpdatePosts=function(){console.log("this.state.updatePosts",a.state.updatePosts),a.updatePosts()},a}return Object(r.a)(e,t),Object(s.a)(e,[{key:"updatePosts",value:function(){var t=this;console.log("sss");var e=localStorage.getItem("token");if(e){var a="https://youflixapi.herokuapp.com";"localhost"===window.location.hostname&&(a=window.location.protocol+"//localhost:8000");var o=a+"/feed/posts",s={"Content-Type":"application/json",Authorization:e};u.a.get(o,null,s).then(function(e){t.setState(Object(n.a)({},t.state,{posts:e.data.posts,totlaPosts:e.data.totlaItems})),console.log(e.data.posts[0])}).catch(function(t){console.log("err",t)})}}},{key:"componentDidMount",value:function(){this.updatePosts()}},{key:"render",value:function(){this.state.updatePosts;return this.state.posts.length?m.a.createElement("div",{className:"Social"},m.a.createElement(d,{updatePosts:this.handleUpdatePosts}),this.state.posts.map(function(t,e){return m.a.createElement(b,{key:e,createdAt:t.createdAt,content:t.content,comments:t.comments,creator:t.creator})})):m.a.createElement("div",{className:"Social"},m.a.createElement(d,null),m.a.createElement(f.a,null))}}]),e}(i.Component);e.default=g}}]);
//# sourceMappingURL=2.1c3b7f71.chunk.js.map